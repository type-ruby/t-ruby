# t-ruby (æ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)

> TypeScript ã«ã‚¤ãƒ³ã‚¹ãƒ‘ã‚¤ã‚¢ã•ã‚ŒãŸ Ruby ç”¨ã®é™çš„å‹ãƒ¬ã‚¤ãƒ¤ãƒ¼ã€‚
> `.trb` ã‚’æ›¸ãã€`trc` ã§ `.rb` ã¨ `.rbs` ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

`t-ruby` ã¯ Ruby ã®ä¸Šã«æ§‹ç¯‰ã•ã‚Œã‚‹ **ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ï¼ˆæ®µéšçš„ï¼‰é™çš„å‹ã‚·ã‚¹ãƒ†ãƒ ** ã§ã™ã€‚

* ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«: `.trb`
* ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©: `trc`
* è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«: `.trb.yml`
* å‡ºåŠ›å½¢å¼:

  * Ruby å®Ÿè¡Œã‚³ãƒ¼ãƒ‰: `.rb`
  * Ruby å…¬å¼ã‚·ã‚°ãƒãƒãƒ£ãƒ•ã‚¡ã‚¤ãƒ«: `.rbs`ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  * t-ruby å°‚ç”¨å®£è¨€ãƒ•ã‚¡ã‚¤ãƒ«: `.d.trb`ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€RBS ã‚ˆã‚Šé«˜ã„è¡¨ç¾åŠ›ï¼‰

ç›®çš„ã¯ã€Ruby ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’å°Šé‡ã—ãªãŒã‚‰ã€
Ruby é–‹ç™ºè€…ã« **TypeScript ã«è¿‘ã„å¿«é©ãªé–‹ç™ºä½“é¨“ï¼ˆDXï¼‰** ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã™ã€‚

---

## ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆStatusï¼‰

**éå¸¸ã«åˆæœŸã®å®Ÿé¨“æ®µéšã§ã™ã€‚**
æ–‡æ³•ãƒ»APIãƒ»æŒ™å‹•ã¯äºˆå‘Šãªãå¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ç¾åœ¨ã®æœ€åˆã®ã‚´ãƒ¼ãƒ«:

* é™å®šçš„ãª t-ruby æ–‡æ³•ã®ãƒ‘ãƒ¼ã‚¹
* å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®å‰Šé™¤ï¼ˆtype erasureï¼‰
* å®Ÿè¡Œå¯èƒ½ãª Ruby `.rb` ã®ç”Ÿæˆ
* å¿…è¦ã«å¿œã˜ã¦æœ€å°é™ã® `.rbs` ã‚¹ã‚¿ãƒ–ã‚’ç”Ÿæˆ

---

## ã‚³ãƒ³ã‚»ãƒ—ãƒˆï¼ˆConceptï¼‰

### 1) `.trb` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ã

```ruby
# hello.trb

def greet(name: String): void
  puts "Hello, #{name} from t-ruby!"
end

greet("world")
```

### 2) `trc` ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«

```bash
trc hello.trb
# => build/hello.rb ï¼ˆå¿…è¦ã«å¿œã˜ã¦ .rbs / .d.trb ã‚‚ç”Ÿæˆï¼‰
```

### 3) Ruby ã§å®Ÿè¡Œ

```bash
ruby build/hello.rb
```

---

## ãƒ‡ã‚¶ã‚¤ãƒ³ç›®æ¨™ï¼ˆDesign Goalsï¼‰

### 1. Ruby é–‹ç™ºè€…ã®ãŸã‚ã® TypeScript ãƒ©ã‚¤ã‚¯ãª DX

* ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹ï¼ˆgradual typingï¼‰
* `type`ã€`interface`ã€ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã€ãƒ¦ãƒ‹ã‚ªãƒ³/ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³å‹ãªã©
* å˜ä¸€ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ© CLI: `trc`

### 2. æ—¢å­˜ã® Ruby ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é«˜ã„äº’æ›æ€§

* æ¨™æº– Ruby ã§ãã®ã¾ã¾å‹•ã `.rb` å‡ºåŠ›
* Steep ã‚„ Ruby LSP ãŒèª­ã‚ã‚‹ `.rbs` å‡ºåŠ›
* t-ruby å°‚ç”¨ã®å¼·åŠ›ãªå‹ã‚’æ ¼ç´ã™ã‚‹ `.d.trb` ã‚‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³æä¾›

### 3. RBS ã‚’åŸºç›¤ã¨ã—ã¦å°Šé‡ã—ã¤ã¤ã€RBS ã«ç¸›ã‚‰ã‚Œãªã„

* t-ruby ã®å‹ã‚·ã‚¹ãƒ†ãƒ ã¯ RBS ã® **ä¸Šä½äº’æ›ï¼ˆsupersetï¼‰** ã‚’ç›®æŒ‡ã™
* `.rbs` ã¸æŠ•å½±ã—ã¥ã‚‰ã„é«˜åº¦ãªå‹ã¯ã€ä¿å®ˆçš„ã«å˜ç´”åŒ–ã—ã¦å‡ºåŠ›
* æ—¢å­˜ã® `.rbs` ã‚¿ã‚¤ãƒ—è³‡ç”£ã‚’ãã®ã¾ã¾åˆ©ç”¨å¯èƒ½

### 4. Ruby æ–‡åŒ–ã«åˆã†è¨­å®šã‚¹ã‚¿ã‚¤ãƒ«

* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã¯ `.trb.yml`
* Ruby ã® YAML ãƒ™ãƒ¼ã‚¹è¨­å®šæ–‡åŒ–ï¼ˆä¾‹: `.rubocop.yml`, `database.yml`ï¼‰ã¨ä¸€è‡´

---

## `.trb.yml` ã®ä¾‹

```yaml
emit:
  rb: true
  rbs: true
  dtrb: false

paths:
  src: ./src
  out: ./build
  stdlib_rbs: ./rbs/stdlib

strict:
  rbs_compat: true
  null_safety: true
  inference: basic
```

---

## ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆRoadmapï¼‰

### ğŸ”¹ Milestone 0 â€“ "Hello, t-ruby"

* `trc` CLI ã‚¹ã‚±ãƒ«ãƒˆãƒ³
* `.trb.yml` ã®èª­ã¿è¾¼ã¿
* `.trb` â†’ `.rb` ã®å˜ç´”å¤‰æ›
* æœ€åˆã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—å…¬é–‹

### ğŸ”¹ Milestone 1 â€“ åŸºæœ¬æ–‡æ³• + å‹å‰Šé™¤

* å¼•æ•°å‹: `name: String`
* æˆ»ã‚Šå€¤å‹: `): String`
* å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å‰Šé™¤å¾Œã« Ruby ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
* åŸºæœ¬çš„ãªæ§‹æ–‡ã‚¨ãƒ©ãƒ¼å ±å‘Š

### ğŸ”¹ Milestone 2 â€“ ã‚³ã‚¢å‹ã‚·ã‚¹ãƒ†ãƒ 

* `type` ã‚¨ã‚¤ãƒªã‚¢ã‚¹
* `interface` å®šç¾©
* ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹: `Result<T, E>`
* ãƒ¦ãƒ‹ã‚ªãƒ³ / ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³å‹
* `.rbs` ã¸ã®æŠ•å½±è¨­è¨ˆ

### ğŸ”¹ Milestone 3 â€“ ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ  & ãƒ„ãƒ¼ãƒ«

* `.d.trb` å®£è¨€ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºç«‹
* åŸºæœ¬ LSP æ©Ÿèƒ½ï¼ˆGo-to-definition, Hover, Diagnosticsï¼‰
* æ—¢å­˜ Ruby ãƒ„ãƒ¼ãƒ«ã¨ã®çµ±åˆ

---

## IDEãƒ»ã‚¨ãƒ‡ã‚£ã‚¿çµ±åˆ

t-rubyã¯ã€ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã€LSPçµ±åˆã€é–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚’å‚™ãˆã€äººæ°—ã®ã‚¨ãƒ‡ã‚£ã‚¿ã‚’ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

### ã‚µãƒãƒ¼ãƒˆã‚¨ãƒ‡ã‚£ã‚¿

| ã‚¨ãƒ‡ã‚£ã‚¿ | ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ | LSPã‚µãƒãƒ¼ãƒˆ | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
|----------|:--------------------:|:-----------:|-------------|
| **VS Code** | âœ… | âœ… | [ã¯ã˜ã‚ã«](./docs/vscode/ja/getting-started.md) |
| **Vim** | âœ… | âŒ | [ã¯ã˜ã‚ã«](./docs/vim/ja/getting-started.md) |
| **Neovim** | âœ… | âœ… | [ã¯ã˜ã‚ã«](./docs/neovim/ja/getting-started.md) |

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

**VS Code:**
```bash
# VS Codeãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ã‹ã‚‰
ext install t-ruby

# ã¾ãŸã¯ã‚½ãƒ¼ã‚¹ã‹ã‚‰
cd editors/vscode && npm install && npm run compile
code --install-extension .
```

**Vim:**
```vim
" vim-plugã‚’ä½¿ç”¨
Plug 'type-ruby/t-ruby', { 'rtp': 'editors/vim' }
```

**Neovim:**
```lua
-- lazy.nvimã‚’ä½¿ç”¨
{ "type-ruby/t-ruby", ft = { "truby" }, config = function()
    require("t-ruby-lsp").setup()
end }
```

### è¨€èªåˆ¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| | English | í•œêµ­ì–´ | æ—¥æœ¬èª |
|---|---------|--------|--------|
| **VS Code** | [Guide](./docs/vscode/en/getting-started.md) | [ê°€ì´ë“œ](./docs/vscode/ko/getting-started.md) | [ã‚¬ã‚¤ãƒ‰](./docs/vscode/ja/getting-started.md) |
| **Vim** | [Guide](./docs/vim/en/getting-started.md) | [ê°€ì´ë“œ](./docs/vim/ko/getting-started.md) | [ã‚¬ã‚¤ãƒ‰](./docs/vim/ja/getting-started.md) |
| **Neovim** | [Guide](./docs/neovim/en/getting-started.md) | [ê°€ì´ë“œ](./docs/neovim/ko/getting-started.md) | [ã‚¬ã‚¤ãƒ‰](./docs/neovim/ja/getting-started.md) |
| **ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ** | [Guide](./docs/syntax-highlighting/en/guide.md) | [ê°€ì´ë“œ](./docs/syntax-highlighting/ko/guide.md) | [ã‚¬ã‚¤ãƒ‰](./docs/syntax-highlighting/ja/guide.md) |

---

## å“²å­¦ï¼ˆPhilosophyï¼‰

t-ruby ã¯ Ruby ã‚’ç½®ãæ›ãˆã‚‹è¨€èªã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

* Ruby ã¯ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŠã‚ˆã³ãƒ›ã‚¹ãƒˆè¨€èªã®ã¾ã¾
* t-ruby ã¯ãã®ä¸Šã«è¼‰ã‚‹ **ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãªå‹ãƒ¬ã‚¤ãƒ¤ãƒ¼**
* æ—¢å­˜ Ruby ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æ®µéšçš„ã«å°å…¥å¯èƒ½ã§ã‚ã‚‹ã“ã¨ãŒé‡è¦

ã¾ãŸã€t-ruby ã¯ RBS ã¨ç«¶åˆã™ã‚‹ã‚‚ã®ã§ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚

* RBS ã¯ Ruby ã®å…¬å¼ã‚·ã‚°ãƒãƒãƒ£å½¢å¼ã¨ã—ã¦å°Šé‡
* t-ruby ã¯ RBS ã‚’ **æ‹¡å¼µãƒ»å†åˆ©ç”¨** ã™ã‚‹æ–¹å‘ã§ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
* é«˜åº¦ãªå‹ã¯ `.rbs` ã§ã¯å˜ç´”åŒ–æŠ•å½±ã—ã€å®Œå…¨è¡¨ç¾ã¯ `.d.trb` ã§æä¾›

---

## å¤šè¨€èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

* English: [README.md](./README.md)
* í•œêµ­ì–´: [README.ko.md](./README.ko.md)

---

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

æœªå®šï¼ˆTBDï¼‰ã€‚
